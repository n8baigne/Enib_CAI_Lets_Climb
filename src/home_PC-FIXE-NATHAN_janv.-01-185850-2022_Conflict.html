<script src='ressources/fullcalendar/lib/main.js'></script>
<script src='ressources/fullcalendar/lib/locales-all.js'></script>
<script src="./js/calendar.js"></script>


<div class="content">
    <div class="row">
        <div id='calendar' class="shadow p-3 mb-5 bg-white rounded"></div>
    </div>
    <div class="row align-center">
        <div class="col-6 mx-auto text-center">
            <section id="scrollDownButtonNews" class="scrollDownSection">
                <a class="scrollDownButton" href="#"><span></span></i>
                    <h1>Actualit√©es</h1>
                </a>
            </section>
        </div>
    </div>
    <div class="row newsSection">
        <div class="col-12 col-sm-10 col-md-8 mx-3 mx-sm-auto">

            <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
                </div>
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="./img/news/climbUp.jpg" class="w-100 img-responsive" alt="...">
                        <div class="carousel-caption ">
                            <h5>First slide label</h5>
                            <p>Some representative placeholder content for the first slide.</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="./img/news/escaladeGroupe.jpg" class="w-100 img-responsive" alt="...">
                        <div class="carousel-caption ">
                            <h5>Second slide label</h5>
                            <p>Some representative placeholder content for the second slide.</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="./img/news/escaladeLille.jpg" class="w-100 img-responsive" alt="...">
                        <div class="carousel-caption">
                            <h5>Third slide label</h5>
                            <p>Some representative placeholder content for the third slide.</p>
                        </div>
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>

            </div>
        </div>
    </div>
</div>

<script>
    var calendarEl = document.getElementById('calendar');


    var calendar = new FullCalendar.Calendar(calendarEl, {
        dateClick: function(info) {
            let myDate = new Date(info.dateStr);
            selectedDate = myDate;
            navigateToDay();
        },
        eventClick: function(info) {
            var eventObj = info.event;
            selectedDate = eventObj.start;
            navigateToDay();
        },
        themeSystem: 'bootstrap',
        fixedWeekCount: false,
        nowIndicator: true,
        expandRows: false,
        dayMaxEventRows: 4,
        initialView: 'dayGridMonth',
        contentHeight: "auto",
        headerToolbar: {
            left: '',
            center: 'title',
            right: 'today prev,next'
        },
        locale: 'fr',
        editable: false,
        selectable: true,
        events: getCalendarEvent()
    });
    calendar.render();

    $(function() {
        $('a').on('click', function(e) {
            e.preventDefault();
            $('html, body').animate({
                scrollTop: $('.newsSection').offset().top - 200
            }, 100, 'linear');
            return false;
        });
    });
</script>