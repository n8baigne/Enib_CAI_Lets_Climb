<link href='styles/bootstrapCalendar.css' rel='stylesheet' />
<div class="container">
    

    <!-- Haut de page: carte et création session-->

    <div class="row d-flex justify-content-center align-items-center">

        <!-- Carte de open street-map-->
        <div class="col-12 col-lg-6 ">
            <iframe width="500" height="400" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://www.openstreetmap.org/export/embed.html?bbox=-4.500132501125337%2C48.389225528413796%2C-4.496591985225678%2C48.390757308139044&amp;layer=mapnik"
            style="border: 1px solid black"></iframe><br/><small><a href="https://www.openstreetmap.org/#map=19/48.38999/-4.49836">Afficher une carte plus grande</a></small>
        </div>

        <!-- Proposer une session-->
        <div class="col-12 col-lg-6 " id="recherches">
            <h2 class="featurette-heading">Proposer une session ! </h2>
            <form>
                <input type="date" id="date" />

                <!-- Script pour que la date à chosir soit supérieur ou égale à aujourd'hui -->
                <script>
                    var today = new Date();
                    var dd = today.getDate();
                    var mm = today.getMonth() + 1; 
                    var yyyy = today.getFullYear();
                    if (dd < 10) {
                        dd = '0' + dd
                    }
                    if (mm < 10) {
                        mm = '0' + mm
                    }

                    today = yyyy + '-' + mm + '-' + dd;
                    document.getElementById("date").setAttribute("min", today);
                </script>

                <label for="lieu">où</label>
                <select name="lieu" id="lieu">
                    <option value="Climb-up">Climb-up</option>
                    <option value="The roof">The roof</option>
                    <option value="Le cube">Le cube</option>
                </select>

                <label for="heure">à</label>
                <input type="time" name="heure" id="heure">

                <button type="button" class="btn btn-primary" onclick="add()">+</button>
            </form>
        </div>
    </div>


    <!-- Bandeau recherches d'une session -->
    <div class="row bg-dark text-light my-4 ">
        <div class="col-10">
            <h2 class="featurette-heading">Tu recherches une session ?</h2>
        </div>
        <div class="col-2 "><button class="link_button" onclick="not_implemented()">préférences</button></div>
    </div>


    <!-- zone scrolable avec les propositions de session-->
    <div style="overflow:scroll; height:400px;" class="m-2">


        <!-- session 1-->
        <div class="card card-body m-2 " id="recherche_1">
            <div class="row  align-items-center">

                <div class="col-2 justify-content-center">
                    <div class="row justify-content-center"><h3>Julie</h3></div>
                    <div class="row justify-content-center"><img class="photo_profil" src="./img/photos_profil/Julie.jpg"></div>
                </div>

                <div class="col-2">
                    <input type="date" name="date" value="2021-12-29" disabled="disabled" />
                    <p>à 15h00</p>
                </div>

                <div class="col-2" >
                    <div class="row justify-content-center">lieu</div>
                    <div class="row justify-content-center px-3"><select disabled="disabled"><option value="Climb-up">Climb-up</option></select></div>
                </div>

                <div class="col-3">
                    <div class="row justify-content-center">matériel</div>
                    <div class="row justify-content-center"><textarea rows="1" cols="30" disabled="disabled" style="resize: none;">chaussons, 2x tapis, baudrier</textarea></div>
                </div>

                <div class="col-1">
                    <div class="row justify-content-center">niveau</div>
                    <div class="row justify-content-center">6B</div>
                </div>

                <div class="col-2 justify-content-center">
                    <div class="row justify-content-center"><button type="submit" class="btn btn-primary" onclick="join('recherche_1')">Rejoindre</button></div>
                </div>
            </div>
        </div>

        <!-- session 2-->
        <div class="card card-body m-2 " id="recherche_2">
            <div class="row  align-items-center">

                <div class="col-2 ">
                    <div class="row justify-content-center"><h3>Elvis</h3></div>
                    <div class="row justify-content-center"><img class="photo_profil" src="./img/photos_profil/Elvis.jpg"></div>
                </div>
            
                <div class="col-2">
                    <input type="date" name="date" value="2021-12-24" disabled="disabled" />
                    <p>à 18h00</p>
                </div>

                <div class="col-2">
                    <div class="row justify-content-center">lieu</div>
                    <div class="row justify-content-center px-3"><select disabled="disabled"><option value="The roof">The roof</option></select></div>
                </div>

                <div class="col-3">
                    <div class="row justify-content-center">matériel</div>
                    <div class="row justify-content-center"><textarea rows="1" cols="30" disabled="disabled" style="resize: none;">chaussons, baudrier</textarea></div>
                </div>

                <div class="col-1">
                    <div class="row justify-content-center">niveau</div>
                    <div class="row justify-content-center">7A</div>
                </div>

                <div class="col-2 justify-content-center">
                    <div class="row justify-content-center"><button type="submit" class="btn btn-primary" onclick="join('recherche_2')">Rejoindre</button></div>
                </div>
            </div>
        </div>

        <!-- session 3-->
        <div class="card card-body m-2 " id="recherche_3">
            <div class="row  align-items-center">

                <div class="col-2 ">
                    <div class="row justify-content-center"><h3>Mathilde</h3></div>
                    <div class="row justify-content-center"><img class="photo_profil" src="./img/photos_profil/Mathilde.jpg"></div>
                </div>

                <div class="col-2">
                    <input type="date" name="date" value="2021-12-20" disabled="disabled" />
                    <p>à 10h30</p>
                </div>

                <div class="col-2">
                    <div class="row justify-content-center">lieu</div>
                    <div class="row justify-content-center px-3"><select disabled="disabled"><option value="Climb-up">Climb-up</option></select></div>
                </div>

                <div class="col-3">
                    <div class="row justify-content-center">matériel</div>
                    <div class="row justify-content-center"><textarea rows="1" cols="30" disabled="disabled" style="resize: none;">chaussons</textarea></div>
                </div>

                <div class="col-1">
                    <div class="row justify-content-center">niveau</div>
                    <div class="row justify-content-center">5C</div>
                </div>

                <div class="col-2 justify-content-center">
                    <div class="row justify-content-center"><button type="submit" class="btn btn-primary" onclick="join('recherche_3')">Rejoindre</button></div>
                </div>
            </div>
        </div>
    </div>

<!-- Zone pour les notifications -->
<div id="notif_join"></div>

<!-- Bandeau mes propositions-->
<div class="row bg-dark text-light my-4" id="mes_prop_bandeau">
    <div class="col-12">
        <h2 class="featurette-heading">Mes sessions proposées</h2>
    </div>
</div>

<!-- zone scrolable mes propositions-->
<div style="overflow:scroll; height:400px;" class="m-2" id="mes_propositions">

    <!-- proposition 1-->
    <div class="card card-body m-2 " id="mes_prop_1">
        <div class="row  align-items-center">

            <div class="col-2">
                <div class="row justify-content-center px-3" > 
                    <input type="date" name="date" value="2021-12-28" disabled="disabled" id="mes_prop_date_1"/>
                    <input type="time" name="heure" id="mes_prop_heure_1" disabled="disabled" value="15:00">
                </div>
            </div>

            <div class="col-2 ">
                <div class="row justify-content-center px-3">lieu</div>
                <div class="row justify-content-center px-3">
                    <select disabled="disabled" id="mes_prop_lieu_1">
                        <option value="Climb-up">Climb-up</option>
                        <option value="The roof">The roof</option>
                        <option value="Le cube">Le cube</option>
                    </select>  
                </div>
            </div>

            <div class="col-4">
                <div class="row justify-content-center">matériel</div>
                <div class="row justify-content-center"><textarea rows="1" cols="30" style="resize: none;" disabled="disabled" id="mes_prop_mat_1">chaussons, 2x tapis, baudrier</textarea></div>
            </div>

            <div class="col-1">
                <div class="row justify-content-center">niveau</div>
                <div class="row justify-content-center">6B</div>
            </div>

            <div class="col-2 justify-content-center">
                <div class="row justify-content-center"><button type="submit" class="btn btn-primary "  onclick="modify('1')">Modifier</button></div>
            </div>

            <div class="col-1 ">
                <button type="button" class="close" aria-label="Close" onclick="hide('mes_prop_1')"><span aria-hidden="true">&times;</span></button>
            </div>
        </div>
    </div>

    <!-- proposition 2-->
    <div class="card card-body m-2 " id="mes_prop_2">
        <div class="row  align-items-center">

            <div class="col-2">
                <div class="row justify-content-center px-3" > 
                    <input type="date" name="date" value="2021-12-31" disabled="disabled" id="mes_prop_date_2"/>
                    <input type="time" name="heure" id="mes_prop_heure_2" disabled="disabled" value="16:00">
                </div>
            </div>

            <div class="col-2 ">
                <div class="row justify-content-center px-3">lieu</div>
                <div class="row justify-content-center px-3">
                    <select disabled="disabled" id="mes_prop_lieu_2">
                        <option value="Climb-up">Climb-up</option>
                        <option value="The roof">The roof</option>
                        <option value="Le cube" selected>Le cube</option>
                    </select>  
                </div>
            </div>

            <div class="col-4">
                <div class="row justify-content-center">matériel</div>
                <div class="row justify-content-center"><textarea rows="1" cols="30" style="resize: none;" disabled="disabled" id="mes_prop_mat_2">chaussons, baudrier</textarea></div>
            </div>

            <div class="col-1">
                <div class="row justify-content-center">niveau</div>
                <div class="row justify-content-center">6B</div>
            </div>

            <div class="col-2 justify-content-center">
                <div class="row justify-content-center"><button type="submit" class="btn btn-primary "  onclick="modify('2')">Modifier</button></div>
            </div>

            <div class="col-1 ">
                <button type="button" class="close" aria-label="Close" onclick="hide('mes_prop_2')"><span aria-hidden="true">&times;</span></button>
            </div>
        </div>
    </div>
</div>

<!-- Zone pour les notifications -->
<div id="notif_suppr"></div>


<!-- Modal lorsque l'on modifie une session proposée -->
<div class="modal fade" id="modal_modify" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">

            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Modifier votre proposition:</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <div class="modal-body">
                <div class="row  align-items-center">
                    <form>
                        <input type="date" id="date_mod" />

                        <!-- Script pour que la date à chosir soit supérieur ou égale à aujourd'hui -->
                        <script>
                            var today = new Date();
                            var dd = today.getDate();
                            var mm = today.getMonth() + 1; 
                            var yyyy = today.getFullYear();
                            if (dd < 10) {
                                dd = '0' + dd
                            }
                            if (mm < 10) {
                                mm = '0' + mm
                            }

                            today = yyyy + '-' + mm + '-' + dd;
                            document.getElementById("date_mod").setAttribute("min", today);
                        </script>

                        <label for="lieu">où</label>
                        <select name="lieu" id="lieu_mod">
                            <option value="Climb-up">Climb-up</option>
                            <option value="The roof">The roof</option>
                            <option value="Le cube">Le cube</option>
                        </select>
                        <label for="heure">à</label>
                        <input type="time" name="heure" id="heure_mod">
                    </form>
                </div>

                <div class="row  align-items-center">
                    <div class="row justify-content-center"><textarea rows="1" cols="30" style="resize: none;" id="mat_mod">chaussons, 2x tapis, baudrier</textarea></div>
                </div>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" onclick="change_values_prop()">Save changes</button>
            </div>
        </div>
    </div>

    

<script src="./js/partenaire.js"></script>
</div>